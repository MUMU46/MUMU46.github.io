<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MUMU&#39;s blog</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="MUMU&#39;s blog">
<meta property="og:url" content="http://mumu46.github.io/index.html">
<meta property="og:site_name" content="MUMU&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="MUMU">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="MUMU&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="http://ossfresh-test.muxixyz.com/16643791362262021213975IMG_0111(20210811-162643).JPG" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">MUMU</a></h1>
		</hgroup>

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/MUMU46/" title="github">github</a>
					        
								<a class="rss" target="_blank" href="/rss2.xml" title="rss">rss</a>
					        
								<a class="weibo" target="_blank" href="https://weibo.com/u/5744660170" title="weibo">weibo</a>
					        
								<a class="About" target="_blank" href="/about" title="About">About</a>
					        
						</div>
						<!-- music -->
						
							<!-- <div style="position: absolute; bottom: 120px; left: auto; width: 85%;"> -->
							<div style="position: absolute; left: auto; width: 85%;">
								<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=220 height=86 src="//music.163.com/outchain/player?type=2&id=Halfway&auto=1&height=66"></iframe>
							</div>
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/JS/" style="font-size: 10px;">-JS</a> <a href="/tags/hooks/" style="font-size: 10px;">-hooks</a> <a href="/tags/JS/" style="font-size: 10px;">JS</a> <a href="/tags/css/" style="font-size: 10px;">css</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/MUMU46/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">I&#39;m a student of CCNU and a front developer.</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://ossfresh-test.muxixyz.com/16643791362262021213975IMG_0111(20210811-162643).JPG" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/MUMU46/" title="github">github</a>
			        
						<a class="rss" target="_blank" href="/rss2.xml" title="rss">rss</a>
			        
						<a class="weibo" target="_blank" href="https://weibo.com/u/5744660170" title="weibo">weibo</a>
			        
						<a class="About" target="_blank" href="/about" title="About">About</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-ts -3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/09/27/ts%20-3/" class="article-date">
  	<time datetime="2022-09-27T00:33:57.386Z" itemprop="datePublished">2022-09-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="访问修饰符"><a href="#访问修饰符" class="headerlink" title="访问修饰符"></a>访问修饰符</h3><p> <code>public</code>、<code>private</code> 和 <code>protected</code>。</p>
<ul>
<li><p><code>public</code> 修饰的属性或方法是公有的，可以在任何地方被访问到，默认所有的属性和方法都是 <code>public</code> 的</p>
</li>
<li><p><code>private</code> 修饰的属性或方法是私有的，不能在声明它的类的外部访问，表示这个属性仅仅属于这个类。</p>
<p>仅仅能在这个类中进行在这个属性的访问。在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%AD%90%E7%B1%BB&spm=1001.2101.3001.7020">子类</a>和类的实现的对象中都不能访问。在子类可以通过调用这个属性的方法来间接使用这个属性。</p>
</li>
<li><p><code>protected</code> 修饰的属性或方法是受保护的，它和 <code>private</code> 类似，区别是它在子类中也是允许被访问的，不能在实例中访问。</p>
</li>
</ul>
<h4 id="静态属性、静态方法"><a href="#静态属性、静态方法" class="headerlink" title="静态属性、静态方法"></a>静态属性、静态方法</h4><p>静态属性与静态方法不需要实例化就可以访问;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    //方法</span><br><span class="line">    static color:string =&#x27;blue&#x27;; </span><br><span class="line">    static isanimal (name: Animal)&#123;</span><br><span class="line">        return name instanceof Animal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let dog = new Animal;</span><br><span class="line">Animal.isanimal(dog);</span><br><span class="line">console.log(Animal.color) ;//-&gt;blue</span><br></pre></td></tr></table></figure>



<h4 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h4><p>在函数名后添加了 <code>&lt;T&gt;</code>，其中 <code>T</code> 用来指代任意输入的类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loggingIdentity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.length);</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h4><p>使用了 <code>extends</code> 约束泛型 <code>T</code> 必须符合接口 <code>Lengthwise</code> 的形状，也就是必须包含 <code>length</code> 属性。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Lengthwise &#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loggingIdentity</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">Lengthwise</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.length);</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><ul>
<li><p>接口继承接口</p>
</li>
<li><p>类继承类</p>
</li>
<li><p>接口继承类</p>
</li>
</ul>
<p>实际上，当我们在声明 <code>class Point</code> 时，除了会创建一个名为 <code>Point</code> 的类之外，同时也创建了一个名为 <code>Point</code> 的类型（实例的类型）。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">    y: <span class="built_in">number</span>;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.x = x;</span><br><span class="line">        <span class="built_in">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> PointInstanceType &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">    y: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PointInstanceType</span>  </span>&#123;</span><br><span class="line"> 	<span class="attr">x</span>: <span class="number">0</span> </span><br><span class="line"> 	<span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等价于 interface Point3d extends PointInstanceType</span></span><br><span class="line"><span class="keyword">interface</span> Point3d <span class="keyword">extends</span> Point &#123;</span><br><span class="line">    <span class="attr">z</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> point3d: Point3d = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure>



<p>声明 <code>Point</code> 类时创建的 <code>Point</code> 类型是不包含构造函数的，只包含其中的实例属性和实例方法。</p>
<h4 id="类实现接口（implements）"><a href="#类实现接口（implements）" class="headerlink" title="类实现接口（implements）"></a>类实现接口（implements）</h4><p>不同类之间可以有一些共有的特性，这时候就可以把特性提取成接口（interfaces）</p>
<p>用implements实现；</p>
<p>一个类可以实现多个接口;</p>
<h4 id="Super关键字"><a href="#Super关键字" class="headerlink" title="Super关键字"></a>Super关键字</h4><p><code>super</code> 实际上用在两种语法中:</p>
<ol>
<li><code>constructor</code> 内的 <code>super()</code>: 执行父类的构造函数。必须至少执行一次。</li>
<li>一般方法内的 <code>super.method()</code>: 执行父类的 (未必同名的) 方法。不是必需。</li>
</ol>
<h4 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h4><p>为了规定类中的一些属性和方法 写出来就是为了被继承的 也只能被继承 抽象类无法实例化 抽象类中也可以拥有一些抽象的属性和方法 ，抽象类中的抽象方法必须被子类实现；</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> name;</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">abstract</span> sayHi();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Meow, My name is <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cat = <span class="keyword">new</span> Cat(<span class="string">&#x27;Tom&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>使用抽象类的好处就是可以抽离出事物的共性；</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-select下拉框添加点击事件：" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/08/11/select%E4%B8%8B%E6%8B%89%E6%A1%86%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%EF%BC%9A/" class="article-date">
  	<time datetime="2022-08-11T14:43:42.666Z" itemprop="datePublished">2022-08-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>select下拉框添加点击事件：</p>
<select>
  <option></option>//option没有onclick事件
</select>

<p>Option没有触发事件方法，我们只有在select里的onchange方法里触发。</p>
<p>因此，需要在select中加onchange事件。</p>
<p><strong>一：javascript原生的方法</strong></p>
<select id="test" name="">  
 <option  value="1">text1</option>  
 <option  value="2">text2</option>  
 </select>

<p> 1:拿到select对象： var myselect=document.getElementById(“test”);</p>
<p> 2：拿到选中项的索引：var index=myselect.selectedIndex ;       // selectedIndex代表的是你所选中项的index</p>
<p> 3:拿到选中项options的value： myselect.options[index].value;</p>
<p> 4:拿到选中项options的text： myselect.options[index].text;</p>
<h4 id="ts方法"><a href="#ts方法" class="headerlink" title="ts方法"></a>ts方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const select:HTMLSelectElement=e.currentTarget;</span><br><span class="line"></span><br><span class="line">const index = select.selectedIndex;</span><br><span class="line"></span><br><span class="line">const id=select.options[index].value;</span><br></pre></td></tr></table></figure>


      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-muxifresh tips" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/08/08/muxifresh%20tips/" class="article-date">
  	<time datetime="2022-08-08T07:56:10.205Z" itemprop="datePublished">2022-08-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>报名者部分：</p>
<p>1.作业提交后页面显示带评论的那个</p>
<p>2.多个作业怎么显示；提交过的作业和没提交的作业？</p>
<p>3.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--  &lt;script &gt;</span><br><span class="line">    window.onload = function () &#123;</span><br><span class="line">      setFont();</span><br><span class="line">      window.addEventListener(&quot;resize&quot;, function () &#123;</span><br><span class="line"></span><br><span class="line">        setFont();</span><br><span class="line">      &#125;)</span><br><span class="line">      function setFont() &#123;</span><br><span class="line">        var div = document.querySelector(&quot;div&quot;);</span><br><span class="line">        div.style.fontSize = document.querySelector(&quot;html&quot;).style.fontSize;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt; --&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- &lt;script&gt; (function flexible(window, document) &#123; var docEl = document.documentElement; var dpr = window.devicePixelRatio || 1; function setBodyFontSize() &#123; if (document.body) &#123; document.body.style.fontSize = 12 * dpr + &quot;px&quot;; &#125; else &#123; document.addEventListener(&quot;DOMContentLoaded&quot;, setBodyFontSize); &#125; &#125; setBodyFontSize(); function setRemUnit() &#123; var rem = docEl.clientWidth / 10; docEl.style.fontSize = rem + &quot;px&quot;; &#125; setRemUnit(); window.addEventListener(&quot;resize&quot;, setRemUnit); window.addEventListener(&quot;pageshow&quot;, function (e) &#123; if (e.persisted) &#123; setRemUnit(); &#125; &#125;); if (dpr &gt;= 2) &#123; var fakeBody = document.createElement(&quot;body&quot;); var testElement = document.createElement(&quot;div&quot;); testElement.style.border = &quot;.5px solid transparent&quot;; fakeBody.appendChild(testElement); docEl.appendChild(fakeBody); if (testElement.offsetHeight === 1) &#123; docEl.classList.add(&quot;hairlines&quot;); &#125; docEl.removeChild(fakeBody); &#125; &#125;)(window, document); &lt;/script&gt;</span><br><span class="line">   --&gt;  </span><br></pre></td></tr></table></figure>


      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-七牛云" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/08/01/%E4%B8%83%E7%89%9B%E4%BA%91/" class="article-date">
  	<time datetime="2022-08-01T07:35:45.463Z" itemprop="datePublished">2022-08-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="七牛云"><a href="#七牛云" class="headerlink" title="七牛云"></a>七牛云</h4><p>qiniu.upload返回一个observable对象来控制上传行为。通过subscribe方法被observer所订阅。unsubscribe方法取消订阅，终止上传行为。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> observable = qiniu.upload(file, key, token, putExtra, config)</span><br></pre></td></tr></table></figure>




      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-git 指令" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/07/31/git%20%E6%8C%87%E4%BB%A4/" class="article-date">
  	<time datetime="2022-07-31T05:50:11.810Z" itemprop="datePublished">2022-07-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>git 指令</p>
<p>创建并切换仓库分支 </p>
<p>  git checkout -b <name>；</p>
<p>=git branch</p>
<p>  git checkout</p>
<p>重命名本地分支</p>
<p>git branch -m old new</p>
<p>推送新分支到远程仓库</p>
<p>git push origin bug_fix</p>
<p>删除远程仓库旧分支</p>
<p>git push –delete origin hot_fix</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-Ts-1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/07/15/Ts-1/" class="article-date">
  	<time datetime="2022-07-15T03:12:52.263Z" itemprop="datePublished">2022-07-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么是接口"><a href="#什么是接口" class="headerlink" title="什么是接口"></a>什么是接口</h2><h6 id="在面向对象语言中，接口（Interfaces）是一个很重要的概念，它是对行为的抽象，而具体如何行动需要由类（classes）去实现（implement）。"><a href="#在面向对象语言中，接口（Interfaces）是一个很重要的概念，它是对行为的抽象，而具体如何行动需要由类（classes）去实现（implement）。" class="headerlink" title="在面向对象语言中，接口（Interfaces）是一个很重要的概念，它是对行为的抽象，而具体如何行动需要由类（classes）去实现（implement）。"></a>在面向对象语言中，接口（Interfaces）是一个很重要的概念，它是对行为的抽象，而具体如何行动需要由类（classes）去实现（implement）。</h6><p>可用于对类的一部分行为进行抽象，对对象的形状进行描述</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let tom: Person = &#123;</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    age: 25</span><br><span class="line">&#125;;</span><br><span class="line">//不能多一些属性，也不能少一些属性</span><br></pre></td></tr></table></figure>

<h5 id="可选属性"><a href="#可选属性" class="headerlink" title="可选属性:"></a>可选属性:</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age?: number;</span><br></pre></td></tr></table></figure>

<h5 id="任意属性："><a href="#任意属性：" class="headerlink" title="任意属性："></a>任意属性：</h5><h6 id="一旦定义了任意属性，那么确定属性和可选属性的类型都必须是它的类型的子集："><a href="#一旦定义了任意属性，那么确定属性和可选属性的类型都必须是它的类型的子集：" class="headerlink" title="一旦定义了任意属性，那么确定属性和可选属性的类型都必须是它的类型的子集："></a><strong>一旦定义了任意属性，那么确定属性和可选属性的类型都必须是它的类型的子集</strong>：</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[propName: string]: any;</span><br></pre></td></tr></table></figure>

<h5 id="只读属性："><a href="#只读属性：" class="headerlink" title="只读属性："></a>只读属性：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readonly id: number;</span><br></pre></td></tr></table></figure>


      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-hooks" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/05/14/hooks/" class="article-date">
  	<time datetime="2022-05-14T04:36:47.000Z" itemprop="datePublished">2022-05-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/14/hooks/">
        hooks
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么是函数副作用？"><a href="#什么是函数副作用？" class="headerlink" title="什么是函数副作用？"></a>什么是<a target="_blank" rel="noopener" href="https://www.fly63.com/tag/%E5%87%BD%E6%95%B0">函数</a>副作用？</h2><p>函数副作用是指当调用函数时，除了返回函数值之外，还对主调用函数产生附加的影响。副作用的函数不仅仅只是返回了一个值，而且还做了其他的事情，比如：</p>
<blockquote>
<p>1、修改了一个变量<br>2、直接修改<a target="_blank" rel="noopener" href="https://www.fly63.com/tag/%E6%95%B0%E6%8D%AE">数据</a>结构<br>3、设置一个对象的成员<br>4、抛出一个异常或以一个错误终止<br>5、打印到终端或读取用户输入<br>6、读取或写入一个文件<br>7、在屏幕上画图</p>
</blockquote>
<h2 id="纯函数-Pure-Function"><a href="#纯函数-Pure-Function" class="headerlink" title="纯函数 ( Pure Function )"></a>纯函数 ( Pure Function )</h2><p>输入输出数据流全是显式（Explicit）的。 显式（Explicit）的意思是，函数与外界交换数据只有一个唯一渠道——参数和返回值。函数从函数外部接受的所有输入信息都通过参数传递到该函数内部。函数输出到函数外部的所有信息都通过返回值传递到该函数外部。</p>
<h2 id="非纯函数-Impure-Function"><a href="#非纯函数-Impure-Function" class="headerlink" title="非纯函数 ( Impure Function )"></a>非纯函数 ( Impure Function )</h2><p>与之相反。 隐式（Implicit）的意思是，函数通过参数和返回值以外的渠道，和外界进行数据交换。比如读取/修改全局变量，都叫作以隐式的方式和外界进行数据交换。</p>
<h2 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h2><p><em>Effect Hook</em> 可以让你在函数组件中执行副作用操作</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>You clicked &#123;count&#125; times<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="xml">        Click me</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>useEffect 是在render之后生效执行的。</li>
<li>将 <code>useEffect</code> 放在组件内部让我们可以在 effect 中直接访问 state 变量（或其他 props）。我们不需要特殊的 API 来读取它 —— 它已经保存在函数作用域中。</li>
<li>UseEffect在第一次渲染之后<em>和</em>每次更新之后都会执行。</li>
</ul>
<h2 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> refContainer = useRef(initialValue);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>useRef</code> 返回一个可变的 ref 对象，其 <code>.current</code> 属性被初始化为传入的参数（<code>initialValue</code>）。返回的 ref 对象在组件的整个生命周期内持续存在。</li>
<li>useRef 返回一个可变的 ref 对象, 和自建一个 {current: …} 对象的唯一区别是，useRef 会在每次渲染时返回同一个 ref 对象, 在整个组件的生命周期内是唯一的。</li>
<li><code>useRef()</code> 和自建一个 <code>&#123;current: ...&#125;</code> 对象的唯一区别是，<code>useRef</code> 会在每次渲染时返回同一个 ref 对象。</li>
<li>变更 <code>.current</code> 属性不会引发组件重新渲染。因此，<em>useRef 可以存储那些不需要引起页面重新渲染的数据</em>。</li>
<li>如果想要在 React 绑定或解绑 DOM 节点的 ref 时运行某些代码，则需要使用<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node">回调 ref</a> 来实现。</li>
</ul>
<h2 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h2><p><strong>跨组件共享数据的钩子函数</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = useContext(MyContext);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>useContext 的组件总会在 context 值变化时重新渲染， 所以<code>&lt;MyContext.Provider&gt;</code>包裹的越多，层级越深，性能会造成影响。</p>
</li>
<li><p><code>&lt;MyContext.Provider&gt;</code> 的 value 发生变化时候， 包裹的组件无论是否订阅content value，所有组件都会从新渲染。</p>
</li>
<li><p>demo中child2 不应该rerender, 如何避免不必要的render？*<br>使用React.memo优化。</p>
</li>
<li><p>如果你的组件在相同 props 的情况下渲染相同的结果，那么你可以通过将其包装在 <code>React.memo</code> 中调用，这意味着在这种情况下，React 将跳过渲染组件的操作并直接复用最近一次渲染的结果。</p>
</li>
</ul>
<h2 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h2><h6 id="reducer就是一个只能通过action将state-从一个过程转换成另一个过程的纯函数。"><a href="#reducer就是一个只能通过action将state-从一个过程转换成另一个过程的纯函数。" class="headerlink" title="reducer就是一个只能通过action将state`从一个过程转换成另一个过程的纯函数。"></a>reducer<code>就是一个只能通过</code>action<code>将</code>state`从一个过程转换成另一个过程的纯函数。</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br></pre></td></tr></table></figure>



<ul>
<li><p>useReducer<code>就是一种通过</code>(state,action) =&gt; newState<code>的过程，和</code>redux`工作方式一样。数据流： dispatch(action) =&gt; reducer更新state =&gt; 返回更新后的state</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;<span class="attr">count</span>: <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="xml">      Count: &#123;state.count&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> dispatch(&#123;type: &#x27;decrement&#x27;&#125;)&#125;&gt;-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> dispatch(&#123;type: &#x27;increment&#x27;&#125;)&#125;&gt;+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><em>useContext 和 useReducer模拟redux管理状态</em></p>
<p>使用useReducer的场景：</p>
<ul>
<li>state 逻辑较复杂且包含多个子值， 可以集中处理。</li>
<li>下一个 state 依赖于之前的 state 。</li>
<li>想更稳定的构建自动化测试用例。</li>
<li>想深层级修改子组件的一些状态，使用 useReducer 还能给那些会触发深更新的组件做性能优化，因为 <a target="_blank" rel="noopener" href="https://link.segmentfault.com/?enc=Lul0gYNB7XJ0FCFAJDBA8Q==.3MvGZDPD3fDZmQ4e+nukCrTxxYTuxAl0vUxuuqtuo9pc6p3Ps17FL56+vwSa1Nrfwx67R499qDVNvHSdmc7nzgkPf2TP8wHdF5i6Irfnps+Wsvp8Sx/dpwfvZLJvKlo9">你可以向子组件传递 dispatch 而不是回调函数</a> 。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hooks/" rel="tag">-hooks</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-promise" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/03/26/promise/" class="article-date">
  	<time datetime="2022-03-26T02:28:19.000Z" itemprop="datePublished">2022-03-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/26/promise/">
        promise
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h1><p>进程是对运行时程序的封装，是系统进行资源调度和分配的的基本单位；</p>
<p>线程是进程的子任务，是CPU调度和分派的基本单位。</p>
<p>进程在执行过程中拥有独立的内存单元，而多个线程共享进程的内存。</p>
<p>每个线程完成不同的任务，但是共享同一地址空间。</p>
<h6 id="做个简单的比喻：进程-火车，线程-车厢"><a href="#做个简单的比喻：进程-火车，线程-车厢" class="headerlink" title="做个简单的比喻：进程=火车，线程=车厢"></a>做个简单的比喻：进程=火车，线程=车厢</h6><ul>
<li>线程在进程下行进（单纯的车厢无法运行）</li>
<li>一个进程可以包含多个线程（一辆火车可以有多个车厢）</li>
<li>不同进程间数据很难共享（一辆火车上的乘客很难换到另外一辆火车，比如站点换乘）</li>
<li>同一进程中的多个线程具有相同的地址空间，致使它们之间的同步和通信的实现更容易（A车厢换到B车厢很容易）</li>
<li>进程要比线程消耗更多的计算机资源（采用多列火车相比多个车厢更耗资源）</li>
<li>进程间不会相互影响，一个线程挂掉将导致整个进程挂掉（一列火车不会影响到另外一列火车，但是如果一列火车上中间的一节车厢着火了，将影响到所有车厢）</li>
<li>进程使用的内存地址可以上锁，即一个线程使用某些共享内存时，其他线程必须等它结束，才能使用这一块内存。（比如火车上的洗手间）－”互斥锁”</li>
<li>进程可以拓展到多机、多核，线程只适用于多核（不同火车可以开在多个轨道上，同一火车的车厢不能在行进的不同的轨道上）</li>
<li>进程使用的内存地址可以限定使用量（比如火车上的餐厅，最多只允许多少人进入，如果满了需要在门口等，等有人出来了才能进去）－“信号量”</li>
</ul>
<p>来源：<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/25532384/answer/411179772">https://www.zhihu.com/question/25532384/answer/411179772</a></p>
<h5 id="进程间通信的方式："><a href="#进程间通信的方式：" class="headerlink" title="进程间通信的方式："></a>进程间通信的方式：</h5><p>进程间通信主要包括<strong>管道、系统IPC（包括</strong><a target="_blank" rel="noopener" href="https://cloud.tencent.com/product/cmq?from=10680"><strong>消息队列</strong></a><strong>、信号量、信号、共享内存等）、以及套接字socket</strong>。</p>
<p>1.管道</p>
<p>管道主要包括<strong>匿名管道和命名管道</strong>:管道可用于具有亲缘关系的父子进程间的通信，命名管道除了具有管道所具有的功能外，它还允许无亲缘关系进程间的通信</p>
<h3 id="为什么javascript是单线程？"><a href="#为什么javascript是单线程？" class="headerlink" title="为什么javascript是单线程？"></a>为什么javascript是单线程？</h3><p>作为浏览器脚本语言，JavaScript的主要用途是与用户互动，以及操作DOM。这决定了它只能是单线程，否则会带来很复杂的同步问题。比如，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？</p>
<h5 id="正因为js是单线程，所以异步编程非常重要。"><a href="#正因为js是单线程，所以异步编程非常重要。" class="headerlink" title="正因为js是单线程，所以异步编程非常重要。"></a>正因为js是单线程，所以异步编程非常重要。</h5><p>​        单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。</p>
<p>​        很多时候CPU是闲着的，因为IO设备（输入输出设备）很慢（比如Ajax操作从网络读取数据），不得不等着结果出来，再往下执行。</p>
<p>​        这时主线程完全可以不管IO设备，挂起处于等待中的任务，先运行排在后面的任务。等到IO设备返回了结果，再回过头，把挂起的任务继续执行下去。</p>
<p>​        于是，所有任务可以分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）。同步任务指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；异步任务指的是，不进入主线程、而进入”任务队列”（task queue）的任务，只有”任务队列”通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行。</p>
<p><strong>异步执行</strong>的运行机制：</p>
<ol>
<li>所有同步任务都在主线程上执行，形成一个执行栈（execution context stack）。</li>
<li>主线程之外，还存在一个”任务队列”（task queue）。只要异步任务有了运行结果，就在”任务队列”之中放置一个事件。</li>
<li>一旦”执行栈”中的所有同步任务执行完毕，系统就会读取”任务队列”，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。</li>
<li>主线程不断重复上面的第三步。</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/9879422-6d05b295b252453a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/581/format/webp" alt="img"></p>
<p>“<strong>任务队列</strong>”是一个事件的队列（也可以理解成消息的队列），IO设备完成一项任务，就在”任务队列”中添加一个事件，还包括一些用户产生的事件（比如鼠标点击、页面滚动等等），只要指定过回调函数，这些事件发生时就会进入”任务队列”，表示相关的异步任务可以进入”执行栈”了。主线程读取”任务队列”，就是读取里面有哪些事件。</p>
<p>所谓”回调函数”（callback），就是把那些被主线程挂起来的代码单独写入一个函数。异步任务必须指定回调函数，当主线程开始执行异步任务，就直接调用这个函数。</p>
<p>来源：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5c23bdcf2a11">https://www.jianshu.com/p/5c23bdcf2a11</a></p>
<h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><p>​        Promise是异步编程的一种解决方案 ，是一个 ES6 提供的类，目的是更加优雅地书写复杂的异步任务。</p>
<p>“回调函数噩梦”</p>
<p>​        Promise就是为了解决这个问题而提出的。它不是新的语法功能，而是一种新的写法，允许将回调函数的横向加载，改成纵向加载。</p>
<pre><code>     所谓Promise，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果
</code></pre>
<p>​        Promise 构造函数只有一个参数，是一个函数，这个函数在构造之后会直接被异步运行，所以我们称之为起始函数。起始函数包含两个参数 resolve 和 reject。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Run&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>resolve 和 reject 都是函数，其中调用 resolve 代表一切正常，reject 是出现异常时所调用的。resolve() 中可以放置一个参数用于向下一个 then 传递一个值，then 中的函数也可以返回一个值传递给 then。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) reject(<span class="string">&quot;Divide zero&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> resolve(a / b);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;a / b = &quot;</span> + value);</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;).finally(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;End&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">=&gt; a/b=<span class="number">0</span></span><br><span class="line">   End</span><br></pre></td></tr></table></figure>

<p>Promise 类有 .then() .catch() 和 .finally() 三个方法，这三个方法的参数都是一个函数，.then() 可以将参数中的函数添加到当前 Promise 的正常执行序列，.catch() 则是设定 Promise 的异常处理序列，.finally() 是在 Promise 执行的最后一定会执行的序列。 .then() 传入的函数会按顺序依次执行，有任何异常都会直接跳到 catch 序列：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1111</span>);</span><br><span class="line">    resolve(<span class="number">2222</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3333</span>;</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;An error&quot;</span>;</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">=&gt;<span class="number">1111</span></span><br><span class="line">  <span class="number">2222</span></span><br><span class="line">  <span class="number">3333</span></span><br><span class="line">  An error</span><br></pre></td></tr></table></figure>

<h5 id="Promise的三种状态："><a href="#Promise的三种状态：" class="headerlink" title="Promise的三种状态："></a>Promise的三种状态：</h5><p>1）Promise对象代表一个异步操作，有三种状态：<code>Pending</code>（进行中）、<code>Resolved</code>（已完成，又称<code>Fulfilled</code>）和<code>Rejected</code>（已失败）。对象的状态不受外界影响。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是Promise这个名字的由来，它的英语意思就是“承诺”，表示其他手段无法改变。</p>
<p>2）一旦状态改变，就不会再变，任何时候都可以得到这个结果。</p>
<h6 id="这三种状态的变化途径只有2种："><a href="#这三种状态的变化途径只有2种：" class="headerlink" title="这三种状态的变化途径只有2种："></a>这三种状态的变化途径只有2种：</h6><p>异步操作从 未完成 pending =&gt; 已完成 resolved</p>
<p>异步操作从 未完成 pending =&gt; 失败 rejected</p>
<h6 id="状态的表现"><a href="#状态的表现" class="headerlink" title="状态的表现"></a>状态的表现</h6><p>pending状态不会触发then和catch<br>resolved状态会触发后续的then回调函数<br>rejected状态会触发后续的catch回调函数</p>
<h6 id="then和catch改变状态"><a href="#then和catch改变状态" class="headerlink" title="then和catch改变状态"></a>then和catch改变状态</h6><p>then正常情况下会返回resolved，报错则返回rejected<br>catch正常情况下会返回resolved，报错则返回rejected</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一题</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>) <span class="comment">//1  resolved</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>) <span class="comment">// 3 resolved</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//结果会打印出来1,3，返回resolved状态）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二题</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve.then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>) <span class="comment">//1</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;error1&quot;</span>) <span class="comment">//rejected</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>) <span class="comment">//2 resolved</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//结果会打印出来1,2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第三题</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>) </span><br><span class="line">    <span class="keyword">throw</span>  <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;error1&quot;</span>) </span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>) <span class="comment">//1 </span></span><br><span class="line">    <span class="keyword">throw</span>  <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;error1&quot;</span>) <span class="comment">//rejected</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>) <span class="comment">//2 resolved</span></span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>) <span class="comment">//3 resolved</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//结果会打印出来1,2,3</span></span><br></pre></td></tr></table></figure>


      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/" rel="tag">-JS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-类" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/12/04/%E7%B1%BB/" class="article-date">
  	<time datetime="2021-12-04T03:35:12.000Z" itemprop="datePublished">2021-12-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/04/%E7%B1%BB/">
        类
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><h6 id="类定义了一个有具体方法和属性的对象，这个对象叫做类的实例；"><a href="#类定义了一个有具体方法和属性的对象，这个对象叫做类的实例；" class="headerlink" title="类定义了一个有具体方法和属性的对象，这个对象叫做类的实例；"></a>类定义了一个有具体方法和属性的对象，这个对象叫做类的实例；</h6><p>创建类的实例，需要创建一个派生自适当原型的对象，且具有相应的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeRabbit</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> rabbit = <span class="built_in">Object</span>.create(protoRabbit);</span><br><span class="line">  rabbit.type = type;</span><br><span class="line">  <span class="keyword">return</span> rabbit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><h6 id="关键词new放在函数调用前面，此函数为构造函数。通过prototype属性获得原型对象。"><a href="#关键词new放在函数调用前面，此函数为构造函数。通过prototype属性获得原型对象。" class="headerlink" title="关键词new放在函数调用前面，此函数为构造函数。通过prototype属性获得原型对象。"></a>关键词new放在函数调用前面，此函数为构造函数。通过prototype属性获得原型对象。</h6><p>构造函数是生成对象的模板，一个构造函数可以生成多个对象，每个对象都有相同的结构。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">sColor,iDoors,iMpg</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.color = sColor;</span><br><span class="line">  <span class="built_in">this</span>.doors = iDoors;</span><br><span class="line">  <span class="built_in">this</span>.mpg = iMpg;</span><br><span class="line">  <span class="built_in">this</span>.showColor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="built_in">this</span>.color);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> oCar1 = <span class="keyword">new</span> Car(<span class="string">&quot;red&quot;</span>,<span class="number">4</span>,<span class="number">23</span>);</span><br><span class="line"><span class="keyword">var</span> oCar2 = <span class="keyword">new</span> Car(<span class="string">&quot;blue&quot;</span>,<span class="number">3</span>,<span class="number">25</span>);</span><br></pre></td></tr></table></figure>

<p>在构造函数内没有创建对象，而是使用 this 关键字。</p>
<h4 id="联合构造函数和原型方式"><a href="#联合构造函数和原型方式" class="headerlink" title="联合构造函数和原型方式"></a>联合构造函数和原型方式</h4><h6 id="即用构造函数定义对象的所有非函数属性，用原型方式定义对象的函数属性（方法）。"><a href="#即用构造函数定义对象的所有非函数属性，用原型方式定义对象的函数属性（方法）。" class="headerlink" title="即用构造函数定义对象的所有非函数属性，用原型方式定义对象的函数属性（方法）。"></a>即用构造函数定义对象的所有非函数属性，用原型方式定义对象的函数属性（方法）。</h6><p>构造函数本身的属性无法被对象实例共享，而原型对象上的属性和方法可以被所用对象实例所共享。</p>
<p>函数都有prototype属性，此属性默认包含一个普通空对象。则</p>
<p>可以通过给 Rabbit的 prototype 属性添加属性去定义 Rabbit 对象的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rabbit</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.type = type;</span><br><span class="line">&#125;<span class="comment">//属性  放自定义实例特殊的属性或者方法</span></span><br><span class="line">Rabbit.prototype.speak = <span class="function"><span class="keyword">function</span>(<span class="params">line</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`The <span class="subst">$&#123;<span class="built_in">this</span>.type&#125;</span> rabbit says &#x27;<span class="subst">$&#123;line&#125;</span>&#x27;`</span>);</span><br><span class="line">&#125;;<span class="comment">//方法   放通用的一些属性或方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> weirdRabbit = <span class="keyword">new</span> Rabbit(<span class="string">&quot;weird&quot;</span>);</span><br><span class="line">weirdRabbit.speak(<span class="string">&quot;Hahaha!&quot;</span>);<span class="comment">//调用方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> killerRabbit = <span class="keyword">new</span> Rabbit(<span class="string">&quot;killer&quot;</span>);</span><br><span class="line">killerRabbit.speak(<span class="string">&quot;SKREEEE!&quot;</span>);</span><br><span class="line"><span class="comment">//--&gt;</span></span><br><span class="line">The weird rabbit says <span class="string">&#x27;Hahaha!&#x27;</span></span><br><span class="line">The killer rabbit says <span class="string">&#x27;SKREEEE!&#x27;</span></span><br></pre></td></tr></table></figure>



<p>详见<a target="_blank" rel="noopener" href="https://www.w3school.com.cn/js/pro_js_object_defining.asp">https://www.w3school.com.cn/js/pro_js_object_defining.asp</a></p>
<p>一般我们定义构造函数的名字开头为大写，告诉别人这是一个抽象的类。</p>
<h5 id="原型关系"><a href="#原型关系" class="headerlink" title="原型关系"></a>原型关系</h5><p>Function   =&gt;   Rabbit   =&gt;   weirdRabbit<br>函数              构造函数         实例</p>
<h1 id="类表示法"><a href="#类表示法" class="headerlink" title="类表示法"></a>类表示法</h1><h6 id="class关键字开始一个声明，可以定义一个构造函数（constructor）和一组方法。（可以写任意数量的方法，任意实例化的对象都可以调用）"><a href="#class关键字开始一个声明，可以定义一个构造函数（constructor）和一组方法。（可以写任意数量的方法，任意实例化的对象都可以调用）" class="headerlink" title="class关键字开始一个声明，可以定义一个构造函数（constructor）和一组方法。（可以写任意数量的方法，任意实例化的对象都可以调用）"></a>class关键字开始一个声明，可以定义一个构造函数（constructor）和一组方法。（可以写任意数量的方法，任意实例化的对象都可以调用）</h6><h6 id="类声明当前只允许将方法添加到原型中。但可以在class定义之后直接操作原型来创建非函数属性。比如："><a href="#类声明当前只允许将方法添加到原型中。但可以在class定义之后直接操作原型来创建非函数属性。比如：" class="headerlink" title="类声明当前只允许将方法添加到原型中。但可以在class定义之后直接操作原型来创建非函数属性。比如："></a>类声明当前只允许将方法添加到原型中。但可以在class定义之后直接操作原型来创建非函数属性。比如：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rabbit</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">type</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.type = type;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">speak</span>(<span class="params">line</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`The <span class="subst">$&#123;<span class="built_in">this</span>.type&#125;</span> rabbit says &#x27;<span class="subst">$&#123;line&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">//Rabbit.prototype.color=&quot;black&quot;</span></span><br><span class="line"><span class="keyword">let</span> killerRabbit = <span class="keyword">new</span> Rabbit(<span class="string">&quot;killer&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> blackRabbit = <span class="keyword">new</span> Rabbit(<span class="string">&quot;black&quot;</span>);</span><br></pre></td></tr></table></figure>

<h6 id="类比founction，class可以在语句和表达式中使用。用作表达式时，不定义绑定，只是将构造函数作为值生成。可以在类表达式中省略类名。"><a href="#类比founction，class可以在语句和表达式中使用。用作表达式时，不定义绑定，只是将构造函数作为值生成。可以在类表达式中省略类名。" class="headerlink" title="类比founction，class可以在语句和表达式中使用。用作表达式时，不定义绑定，只是将构造函数作为值生成。可以在类表达式中省略类名。"></a>类比founction，class可以在语句和表达式中使用。用作表达式时，不定义绑定，只是将构造函数作为值生成。可以在类表达式中省略类名。</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="class"><span class="keyword">class</span> <span class="title">Rabbit</span></span>&#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> <span class="keyword">let</span> object = <span class="keyword">new</span> <span class="class"><span class="keyword">class</span> </span>&#123; <span class="function"><span class="title">getWord</span>(<span class="params"></span>)</span> &#123; <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>; &#125; &#125;;</span><br><span class="line">  <span class="built_in">console</span>.log(object.getWord());</span><br><span class="line">  <span class="comment">// → hello</span></span><br></pre></td></tr></table></figure>


      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/" rel="tag">JS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-share" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/10/17/share/" class="article-date">
  	<time datetime="2021-10-17T03:13:04.000Z" itemprop="datePublished">2021-10-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/10/17/share/">
        垂直居中的多种方法
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="垂直居中水平居中的几种方法"><a href="#垂直居中水平居中的几种方法" class="headerlink" title="垂直居中水平居中的几种方法"></a>垂直居中水平居中的几种方法</h2><h3 id="方法一：flex布局法"><a href="#方法一：flex布局法" class="headerlink" title="方法一：flex布局法"></a>方法一：flex布局法</h3><h6 id="1-在父级盒子中添加flex-css样式"><a href="#1-在父级盒子中添加flex-css样式" class="headerlink" title="1.在父级盒子中添加flex css样式"></a>1.在父级盒子中添加flex css样式</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>:flex</span><br><span class="line">justify-content:center;</span><br><span class="line"><span class="attribute">flex-direction</span>:column;/row;<span class="comment">/*垂直或水平*/</span></span><br></pre></td></tr></table></figure>

<h5 id="2-垂直居中"><a href="#2-垂直居中" class="headerlink" title="2.垂直居中"></a>2.垂直居中</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: flex;</span><br><span class="line"><span class="attribute">align-items</span>: center;</span><br></pre></td></tr></table></figure>



<h3 id="方法二：绝对定位法"><a href="#方法二：绝对定位法" class="headerlink" title="方法二：绝对定位法"></a>方法二：绝对定位法</h3><h5 id="1-绝对定位下top-left-right-bottom-都设置0（水平垂直居中）"><a href="#1-绝对定位下top-left-right-bottom-都设置0（水平垂直居中）" class="headerlink" title="1.绝对定位下top left right bottom 都设置0（水平垂直居中）"></a>1.绝对定位下top left right bottom 都设置0（水平垂直居中）</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">margin</span>: auto;</span><br></pre></td></tr></table></figure>

<h6 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h6><h6 id="Transform-包括旋转rotate、扭曲skew、缩放scale和移动translate以及矩阵变形matrix。translate-x-y-它表示对象进行平移，当值为负数时，反方向移动物体-translate可以在不知道宽高的情况下进行居中，tranlate（）函数中的百分比是相对于自身宽高的百分比，所以能进行居中。"><a href="#Transform-包括旋转rotate、扭曲skew、缩放scale和移动translate以及矩阵变形matrix。translate-x-y-它表示对象进行平移，当值为负数时，反方向移动物体-translate可以在不知道宽高的情况下进行居中，tranlate（）函数中的百分比是相对于自身宽高的百分比，所以能进行居中。" class="headerlink" title="Transform:包括旋转rotate、扭曲skew、缩放scale和移动translate以及矩阵变形matrix。translate(x,y),它表示对象进行平移，当值为负数时，反方向移动物体.translate可以在不知道宽高的情况下进行居中，tranlate（）函数中的百分比是相对于自身宽高的百分比，所以能进行居中。"></a>Transform:包括旋转rotate<strong>、</strong>扭曲skew<strong>、</strong>缩放scale<strong>和</strong>移动translate<strong>以及</strong>矩阵变形matrix。translate(x,y),它表示对象进行平移，当值为负数时，反方向移动物体.translate可以在不知道宽高的情况下进行居中，tranlate（）函数中的百分比是相对于自身宽高的百分比，所以能进行居中。</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:red;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Left:50%;top:50%相当于把盒子的左上角 定位在body的中心。</p>
<p>设置transform:translate(-50%,-50%),即延X轴和延Y轴均移动50%，对比原图位置，移动后的图如下所示，</p>
<p><img src="https://img-blog.csdnimg.cn/20210105164742795.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMTYxOTgy,size_16,color_FFFFFF,t_70" alt="img"></p>
<h5 id="3-确定了当前div的宽度，margin值为当前div宽度一半的负值"><a href="#3-确定了当前div的宽度，margin值为当前div宽度一半的负值" class="headerlink" title="3.确定了当前div的宽度，margin值为当前div宽度一半的负值"></a>3.确定了当前div的宽度，margin值为当前div宽度一半的负值</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">600px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">600px</span>;</span><br><span class="line">  <span class="attribute">background</span>:red;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>:<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>:-<span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>:-<span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-table-cell实现水平垂直居中-table-cell-middle-center组合使用"><a href="#4-table-cell实现水平垂直居中-table-cell-middle-center组合使用" class="headerlink" title="4.　table-cell实现水平垂直居中: table-cell middle center组合使用"></a>4.　table-cell实现水平垂直居中: table-cell middle center组合使用</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;<span class="selector-tag">table</span>-cell&quot;&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span>&gt;我爱你&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"><span class="selector-class">.table-cell</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">180px</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/" rel="tag">css</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2022 MUMU
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>